<!-- index.html 02.09.2025 -->

<!DOCTYPE html>
<html>
  <head>
    <base target="_top">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Tafel App</title>

    <link rel="stylesheet" href="Global.css">
    <link rel="stylesheet" href="Login.css">
    <link rel="stylesheet" href="Form.css">
    <link rel="stylesheet" href="Popup.css">
 
 
  <script>
//    const loggedInUsernameForTesting = "ab"; // Testmodus
  </script>

  </head>
  <body>
  
    <div id="loading-initial" style="text-align: center; padding: 50px; font-family: Arial, sans-serif;">
      <p>Anmeldung wird geladen...</p>
    <div class="spinner"></div> </div>


    <section id="login-section" class="app-section">

      <div id="loginHeader">
        <div class="titleArea">
          <h1>Tafel Sterkrade Login</h1>
          <div class="version" id="version-login">Version 5.09.02-1</div>
                    <img src="TafelLogo.png" alt="Logo">
        </div>
      </div>

      <input type="text" id="Anmelde" placeholder="Anmeldenamen eingeben">
      <button id="login-button">Anmelden</button>
      <p id="status">Bitte Anmeldenamen eingeben</p>
      <p id="message"></p>
    </section>

    Â Â 
    <section id="formular-section" class="app-section hidden">
        <div id="formHeader">
        <div class="titleArea">
          <h1>Tafel Sterkrade Anmeldung</h1>
          <div class="version" id="version-form">Version 5.09.02-1</div>
                    <img src="TafelLogo.png" alt="Logo">
        </div>
      </div>

      <p id="greeting" style="text-align:left; font-weight:bold;"></p>
      <div id="hinweis-label">
        Bitte wÃ¤hle einen Termin und passe deine Funktion an.<br>
        Ã„nderungen werden nur gespeichert, wenn du auf <strong>"Senden"</strong> klickst.
      </div>

        <div id="loading-overlay" class="loading-state hidden">
        <p id="loading-text">Daten werden geladen...</p>
        <div class="loading-step">
          <span>Formulardaten werden geladen â€¦</span>
          <span id="spinner-formdata" class="spinner small"></span>
        </div>
        <div class="loading-step">
          <span>Anmeldungen werden geladen â€¦</span>
          <span id="spinner-anmeldungen" class="spinner small"></span>
        </div>
        <div class="loading-step">
          <span>Anmeldeinfos werden geladen â€¦</span>
          <span id="spinner-infos" class="spinner small"></span>
        </div>
      </div>

  Â Â 
      <div id="termin-options"></div>

      <div class="funktionInfoBereich">
        <div id="funktion-label"></div>
        <div id="fmc-options"></div>
      </div>
      <br>

      <div class="AnmeldeInfoBereich">
        <div id="anmeldeInfoTermin">AnmeldeInfo</div>
        <div id="anmeldeInfoFunc">0 Fahrer, 0 Ausgabe, 0 Registratur</div>
        <button id="info-button" onclick="tagesRapport()">TagesRapport</button>
      </div>

      <br>
      <button id="submit-button" onclick="submitForm()" disabled>Senden</button>
      <p id="waiting-status"></p>
      <p id="status"></p>
      <div id="details"></div>

Â 
      Â 
      <div id="overlaySubmit" class="hidden">
        <div id="overlaySubmitContent">
          <div id="overlaySubmitText">ðŸ•“ Eingaben werden gespeichertâ€¦</div>
          <button id="closeOverlaySubmit" onclick="closeOverlaySubmit()">OK</button>
        </div>
      </div>

      Â 
      <div id="overlayRapport">
        <div id="overlayRapport-content">
          <h2 id="overlayRapport-title">Tagesrapport</h2>

          <h3 id="scrollboxAnmeldungen-title">Anmeldungen:</h3>
          <div class="scrollbox scrollbox-anmeldungen">
            <table id="scrollboxAnmeldungen-table"></table>
          </div>

          <h3 id="scrollboxGeburtstage-title">Anstehende Geburtstage:</h3>
          <div class="scrollbox scrollbox-geburtstage">
            <table id="scrollboxGeburtstage-table"></table>
          </div>

          <dl id="downloadLink_Tagesrapport"></dl>
          <div id="download-spinner-container" class="hidden">
            <span class="spinner small"></span>
            <span id="download-spinner-text"></span>
          </div>
Â 
          <dl id="sendMailXLS_Tagesrapport"></dl>
          <div id="download-spinner-container" class="hidden">
            <span class="spinner small"></span>
            <span id="download-spinner-text"></span>
          </div>

          <div class="overlayRapport-buttons">
            <button onclick="closeOverlayRapport()">SchlieÃŸen</button>
            <button onclick="downloadLinkRapport()">PDF-Datei</button>
            <button onclick="sendmailXLSRapport()">XLSX-Datei</button>
          </div>
        </div>
      </div>

      Â 
      <div id="popup" style="display: none;">
        <div id="popup-content">
          <p>  </p>
        <button onclick="closePopup()">SchlieÃŸen</button>
        </div>
      </div>

    </section>
   
    <script src="Backend.js"></script>
    <script src="Start.js"></script>
    <script src="Login.js"></script>
    <script src="Form.js"></script>
    <script src="Rapport.js"></script>


  </body>
</html>
